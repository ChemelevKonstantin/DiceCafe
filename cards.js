const REALM_CARDS = {
    realm1: {
        quests: [
            {
                id: 1,
                title: "1 –ó–æ–º–±—ñ-–∫–∞–≤–∞–º–∞–Ω–∏",
                illustration: "images/r1_1.png",
                text: "–ó–æ–º–±—ñ-–∫–∞–≤–∞–º–∞–Ω –≤–∏–º–∞–≥–∞—î —Ñ–ª–µ—Ç-–≤–∞–π—Ç –∑ –º–æ–ª–æ–∫–æ–º —î–¥–∏–Ω–æ—Ä–æ–≥–∞. –ó—Ä–æ–±–∏ –∫—Ä–æ–∫ –Ω–∞–∑–∞–¥, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –π–æ–≥–æ —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø–∞—Ö—É.",
                conditions: {
                    success: { 
                        threshold: 13, 
                        effects: [
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "+1‚ù§Ô∏è +1‚òòÔ∏è"
                    },
                    failure: { 
                        threshold: 9, 
                        effects: [
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" },
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" }
                        ],
                        text: "-1‚òòÔ∏è -1‚ù§Ô∏è"
                    },
                    special: { 
                        condition: "pair",
                        effects: [
                            { type: "gold", value: 1, text: "+1ü™ô" }
                        ],
                        text: "Pair +1ü™ô"
                    }
                }
            },
            {
                id: 2,
                title: "2 –û–ø—ñ–≤–Ω—ñ—á–Ω–∞ –ö–∞–≤–∞-–ü–∞–Ω—ñ–∫–∞",
                illustration: "images/r1_2.png",
                text: "–ù–∞—Ç–æ–≤–ø –Ω—ñ—á–Ω–∏—Ö —Å–æ–≤ –≤—Ä–∏–≤–∞—î—Ç—å—Å—è –≤ –∫–∞–≤'—è—Ä–Ω—é, –≤–∏–º–∞–≥–∞—é—á–∏ –∫–∞–≤—É –∑ –∫—Ä–∏—Å—Ç–∞–ª–∞–º–∏ –µ–Ω–µ—Ä–≥—ñ—ó. –ß–∏ –∑–º–æ–∂–µ—à —Ç–∏ –≤—Ä—è—Ç—É–≤–∞—Ç–∏ —Å–∏—Ç—É–∞—Ü—ñ—é?",
                conditions: {
                    success: { 
                        threshold: 14, 
                        effects: [
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "+2ü™ô +1‚òòÔ∏è"
                    },
                    failure: { 
                        threshold: 8, 
                        effects: [
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" },
                            { type: "gold", value: -1, text: "-1ü™ô" }
                        ],
                        text: "-1‚ù§Ô∏è -1ü™ô"
                    },
                    special: {
                        condition: "allEven",
                        effects: [
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" },
                            { type: "gold", value: 1, text: "+1ü™ô" }
                        ],
                        text: "All even numbers +1‚òòÔ∏è, +1‚ù§Ô∏è, and +1ü™ô"
                    }
                }
            },
            {
                id: 3,
                title: "3 –ú–∞–≥—ñ—á–Ω–∞ –ö–∞–≤–æ–≤–∞ –§–∞—Å–æ–ª–∏–Ω–∞",
                illustration: "images/r1_3.png",
                text: "–¢–∏ –∑–Ω–∞–π—à–æ–≤ –∫–∞–≤–æ–≤—É —Ñ–∞—Å–æ–ª–∏–Ω—É, —è–∫–∞ —Å–≤—ñ—Ç–∏—Ç—å—Å—è –≤—Å—ñ–º–∞ –∫–æ–ª—å–æ—Ä–∞–º–∏ –≤–µ—Å–µ–ª–∫–∏. –í–æ–Ω–∞ —à–µ–ø–æ—á–µ —Ç–æ–±—ñ —Å–µ–∫—Ä–µ—Ç–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏...",
                conditions: {
                    success: { 
                        threshold: 15, 
                        effects: [
                            { type: "luck", value: 2, text: "+2‚òòÔ∏è" },
                            { type: "gold", value: 1, text: "+1ü™ô" }
                        ],
                        text: "+2‚òòÔ∏è +1ü™ô"
                    },
                    failure: { 
                        threshold: 7, 
                        effects: [
                            { type: "health", value: -2, text: "-2‚ù§Ô∏è" },
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" }
                        ],
                        text: "-2‚ù§Ô∏è -1‚òòÔ∏è"
                    },
                    special: {
                        condition: "sequence",
                        effects: [
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" }
                        ],
                        text: "Get a sequence +2ü™ô and +1‚ù§Ô∏è"
                    }
                }
            },
            {
                id: 4,
                title: "4 –ü—Ä–∏–≤–∏–¥ –ö–∞–≤–æ–º–∞–Ω–∞",
                illustration: "images/r1_4.png",
                text: "–ü—Ä–∏–≤–∏–¥ –∫–∞–≤–æ–º–∞–Ω–∞ –∑'—è–≤–ª—è—î—Ç—å—Å—è –∑ —Ç—É–º–∞–Ω—É, –≤–∏–º–∞–≥–∞—é—á–∏ —Å–≤—ñ–π '–∑–≤–∏—á–∞–π–Ω–∏–π' –Ω–∞–ø—ñ–π. –ê–ª–µ –π–æ–≥–æ '–∑–≤–∏—á–∞–π–Ω–∏–π' - —Ü–µ —â–æ—Å—å –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–µ...",
                conditions: {
                    success: { 
                        threshold: 12, 
                        effects: [
                            { type: "gold", value: 1, text: "+1ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "+1ü™ô +1‚òòÔ∏è"
                    },
                    failure: { 
                        threshold: 6, 
                        effects: [
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" },
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" }
                        ],
                        text: "-1‚òòÔ∏è -1‚ù§Ô∏è"
                    },
                    special: {
                        condition: "triple",
                        effects: [
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" },
                            { type: "luck", value: 2, text: "+2‚òòÔ∏è" }
                        ],
                        text: "triple +1‚ù§Ô∏è and +2‚òòÔ∏è"
                    }
                }
            },
            {
                id: 5,
                title: "5 –ü–æ–¥–æ—Ä–æ–∂–Ω–∏–∫ —É –ß–∞—Å—ñ",
                illustration: "images/r1_5.png",
                text: "–ó–∞–≥–∞–¥–∫–æ–≤–∏–π –∫–ª—ñ—î–Ω—Ç —Å—Ç–≤–µ—Ä–¥–∂—É—î, —â–æ –≤—ñ–Ω –∑–∞–º–æ–≤–∏–≤ —Å–≤—ñ–π –Ω–∞–ø—ñ–π... —É –º–∞–π–±—É—Ç–Ω—å–æ–º—É! –ß–∏ –∑–º–æ–∂–µ—à —Ç–∏ —Ä–æ–∑–≥–∞–¥–∞—Ç–∏ —Ü–µ–π —á–∞—Å–æ–≤–∏–π –ø–∞—Ä–∞–¥–æ–∫—Å?",
                conditions: {
                    success: { 
                        threshold: 16, 
                        effects: [
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" },
                            { type: "gold", value: 1, text: "+1ü™ô" }
                        ],
                        text: "+1‚òòÔ∏è +1ü™ô"
                    },
                    failure: { 
                        threshold: 10, 
                        effects: [
                            { type: "gold", value: -1, text: "-1ü™ô" },
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" }
                        ],
                        text: "-1ü™ô -1‚ù§Ô∏è"
                    },
                    special: {
                        condition: "isSumEven",
                        effects: [
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" },
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "Even number +2‚ù§Ô∏è, +2ü™ô, and +1‚òòÔ∏è"
                    }
                }
            },
            {
                id: 6,
                title: "6 –ö–∞–≤–æ–≤–∏–π –ö—ñ—Ç –®—Ä—å–æ–¥—ñ–Ω–≥–µ—Ä–∞",
                illustration: "images/r1_6.png",
                text: "–ö—ñ—Ç, —è–∫–∏–π –æ–¥–Ω–æ—á–∞—Å–Ω–æ —ñ –∂–∏–≤–∏–π, —ñ –º–µ—Ä—Ç–≤–∏–π, –≤–∏–º–∞–≥–∞—î –∫–∞–≤—É –∑ –∫–≤–∞–Ω—Ç–æ–≤–æ—é –ø—ñ–Ω–æ—é. –ß–∏ –∑–º–æ–∂–µ—à —Ç–∏ –∑–∞–¥–æ–≤–æ–ª—å–Ω–∏—Ç–∏ –π–æ–≥–æ –∫–≤–∞–Ω—Ç–æ–≤—ñ —Å–º–∞–∫–∏?",
                conditions: {
                    success: { 
                        threshold: 16, 
                        effects: [
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" }
                        ],
                        text: "+1‚òòÔ∏è +1‚ù§Ô∏è"
                    },
                    failure: { 
                        threshold: 10, 
                        effects: [
                            { type: "gold", value: -1, text: "-1ü™ô" },
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" }
                        ],
                        text: "-1ü™ô -1‚òòÔ∏è"
                    },
                    special: {
                        condition: "isSumEven",
                        effects: [
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" },
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "Even number +2‚ù§Ô∏è, +2ü™ô, and +1‚òòÔ∏è"
                    }
                }
            }
        ],
        bosses: [
            {
                id: "boss1",
                title: "–ë–∏—Ç–≤–∞ –∑ –î–µ–º–æ–Ω—ñ—á–Ω–∏–º –ì–æ—Ä–∏–ª–æ—é-–ë–∞—Ä–∏—Å—Ç–æ—é",
                illustration: "images/r1_boss1.png",
                text: "–ß–∏ –∑–º–æ–∂–µ—à —Ç–∏ –ø–µ—Ä–µ–º–æ–≥—Ç–∏ –¥–µ–º–æ–Ω–∞ –≤ –¥—É–µ–ª—ñ –∑–∞ —á–∞—à–∫—É –∫–∞–≤–∏, —á–∏ –∑–∞–ª–∏—à–∏—à—Å—è –±–µ–∑ –ø—ñ—Ç-—Å—Ç–æ–ø—É —ñ –∑–ª–∞–º–∞–Ω–∏–º–∏ –Ω–µ—Ä–≤–∞–º–∏?",
                conditions: {
                    success: { 
                        threshold: 20, 
                        effects: [
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" },
                            { type: "gold", value: 2, text: "+2ü™ô" }
                        ],
                        text: "+2‚ù§Ô∏è +2ü™ô"
                    },
                    failure: { 
                        threshold: 8, 
                        effects: [
                            { type: "health", value: -2, text: "-2‚ù§Ô∏è" },
                            { type: "luck", value: -2, text: "-2‚òòÔ∏è" }
                        ],
                        text: "-2‚ù§Ô∏è -2‚òòÔ∏è"
                    },
                    special: {
                        condition: "triple",
                        effects: [
                            { type: "health", value: 3, text: "+3‚ù§Ô∏è" },
                            { type: "gold", value: 3, text: "+3ü™ô" },
                            { type: "luck", value: 3, text: "+3‚òòÔ∏è" }
                        ],
                        text: "triple +3‚ù§Ô∏è, +3ü™ô, and +3‚òòÔ∏è"
                    }
                }
            },
            {
                id: "boss2",
                title: "Text",
                illustration: "images/r1_boss2.png",
                text: "Text",
                conditions: {
                    success: { 
                        threshold: 18, 
                        effects: [
                            { type: "gold", value: 3, text: "+3ü™ô" },
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" }
                        ],
                        text: "+3ü™ô +2‚ù§Ô∏è"
                    },
                    failure: { 
                        threshold: 7, 
                        effects: [
                            { type: "health", value: -3, text: "-3‚ù§Ô∏è" },
                            { type: "gold", value: -2, text: "-2ü™ô" }
                        ],
                        text: "-3‚ù§Ô∏è -2ü™ô"
                    },
                    special: {
                        condition: "sequence",
                        effects: [
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" },
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "luck", value: 2, text: "+2‚òòÔ∏è" }
                        ],
                        text: "Get a sequence +2‚ù§Ô∏è, +2ü™ô, and +2‚òòÔ∏è"
                    }
                }
            }
        ]
    },
    realm2: {
        quests: [
            {
                id: 1,
                title: "–ß–∞–π–Ω–∏–π –î—É—Ö",
                illustration: "images/r2_1.png",
                text: "–î—É—Ö —á–∞—é –∫–∏–¥–∞—î –≤–∏–∫–ª–∏–∫: –∑—Ä–æ–±–∏ —ñ–¥–µ–∞–ª—å–Ω–∏–π —á–∞–π, –∞–±–æ –∂ —Å—Ç–∞–Ω–µ—à –π–æ–≥–æ –æ—Å–æ–±–∏—Å—Ç–∏–º —á–∞–π–Ω–∏–∫–æ–º –¥–æ –∫—ñ–Ω—Ü—è –≤—ñ–∫—ñ–≤!",
                conditions: {
                    success: { 
                        threshold: 15, 
                        effects: [
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" },
                            { type: "gold", value: 1, text: "+1ü™ô" }
                        ],
                        text: "+1‚òòÔ∏è +1ü™ô"
                    },
                    failure: { 
                        threshold: 14, 
                        effects: [
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" },
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" }
                        ],
                        text: "-1‚ù§Ô∏è -1‚òòÔ∏è"
                    },
                    special: { 
                        condition: "allEven",
                        effects: [
                            { type: "gold", value: 2, text: "+2ü™ô" }
                        ],
                        text: "All even numbers +2ü™ô"
                    }
                }
            },
            {
                id: 2,
                title: "–ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ç–µ–º–Ω–æ–≥–æ –ª–æ—Ä–¥–∞",
                illustration: "images/r2_2.png",
                text: "–í—ñ–Ω –∑–±–∏—Ä–∞—î—Ç—å—Å—è –≤–æ—Å–∫—Ä–µ—Å–∏—Ç–∏ —Ç–≤–æ—ó—Ö –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤, –∞ –ø–æ—Ç—ñ–º –∑–≤–∞—Ä–∏—Ç–∏ –¢–µ–±–µ –∑–∞ –Ω–µ–¥–æ–ª–∏—Ç—É –∫–∞–≤—É!",
                conditions: {
                    success: { 
                        threshold: 14, 
                        effects: [
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "+2ü™ô +1‚òòÔ∏è"
                    },
                    failure: { 
                        threshold: 13, 
                        effects: [
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" },
                            { type: "gold", value: -1, text: "-1ü™ô" }
                        ],
                        text: "-1‚ù§Ô∏è -1ü™ô"
                    },
                    special: {
                        condition: "allEven",
                        effects: [
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" },
                            { type: "gold", value: 1, text: "+1ü™ô" }
                        ],
                        text: "All even numbers +1‚òòÔ∏è, +1‚ù§Ô∏è, and +1ü™ô"
                    }
                }
            },
            {
                id: 3,
                title: "–ö–∞—Ä—Ç–∫–æ–≤–∞ –ë—ñ–π–∫–∞",
                illustration: "images/r2_3.png",
                text: "–ë—ñ–π –∑–∞ —Ç–æ–∫–µ–Ω–∏ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è!",
                conditions: {
                    success: { 
                        threshold: 15, 
                        effects: [
                            { type: "luck", value: 2, text: "+2‚òòÔ∏è" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" }
                        ],
                        text: "+2‚òòÔ∏è +1‚ù§Ô∏è"
                    },
                    failure: { 
                        threshold: 14, 
                        effects: [
                            { type: "health", value: -2, text: "-2‚ù§Ô∏è" },
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" }
                        ],
                        text: "-2‚ù§Ô∏è -1‚òòÔ∏è"
                    },
                    special: {
                        condition: "sequence",
                        effects: [
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" }
                        ],
                        text: "Get a sequence +2ü™ô and +1‚ù§Ô∏è"
                    }
                }
            },
            {
                id: 4,
                title: "4 The Coffee Ghost",
                illustration: "images/r2_4.png",
                text: "A translucent figure appears, requesting their 'usual'. What was their usual again?",
                conditions: {
                    success: { 
                        threshold: 16, 
                        effects: [
                            { type: "gold", value: 1, text: "+1ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "+1ü™ô +1‚òòÔ∏è"
                    },
                    failure: { 
                        threshold: 16, 
                        effects: [
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" },
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" }
                        ],
                        text: "-1‚òòÔ∏è -1‚ù§Ô∏è"
                    },
                    special: {
                        condition: "triple",
                        effects: [
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" },
                            { type: "luck", value: 2, text: "+2‚òòÔ∏è" }
                        ],
                        text: "triple +1‚ù§Ô∏è and +2‚òòÔ∏è"
                    }
                }
            },
            {
                id: 5,
                title: "5 The Time Traveler",
                illustration: "images/r2_5.png",
                text: "A customer claims they ordered their drink tomorrow. Can you make sense of this paradox?",
                conditions: {
                    success: { 
                        threshold: 16, 
                        effects: [
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" },
                            { type: "gold", value: 1, text: "+1ü™ô" }
                        ],
                        text: "+1‚òòÔ∏è +1ü™ô"
                    },
                    failure: { 
                        threshold: 15, 
                        effects: [
                            { type: "gold", value: -1, text: "-1ü™ô" },
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" }
                        ],
                        text: "-1ü™ô -1‚ù§Ô∏è"
                    },
                    special: {
                        condition: "isSumEven",
                        value: 7,
                        effects: [
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" },
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "Even number +2‚ù§Ô∏è +2ü™ô +1‚òòÔ∏è"
                    }
                }
            },
            {
                id: 6,
                title: "6 The Time Traveler",
                illustration: "images/r2_6.png",
                text: "A customer claims they ordered their drink tomorrow. Can you make sense of this paradox?",
                conditions: {
                    success: { 
                        threshold: 16, 
                        effects: [
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" }
                        ],
                        text: "+1‚òòÔ∏è +1‚ù§Ô∏è"
                    },
                    failure: { 
                        threshold: 14, 
                        effects: [
                            { type: "gold", value: -1, text: "-1ü™ô" },
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" }
                        ],
                        text: "-1ü™ô -1‚òòÔ∏è"
                    },
                    special: {
                        condition: "isSumEven",
                        value: 7,
                        effects: [
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" },
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "Even number +2‚ù§Ô∏è, +2ü™ô, and +1‚òòÔ∏è"
                    }
                }
            }
        ],
        bosses: [
            {
                id: "boss2",
                title: "The Tea Dragon",
                illustration: "images/r2_boss1.png",
                text: "A majestic dragon made of tea leaves demands the perfect brew. Can you satisfy its refined taste?",
                conditions: {
                    success: { 
                        threshold: 22, 
                        effects: [
                            { type: "gold", value: 3, text: "+3ü™ô" },
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" }
                        ],
                        text: "+3ü™ô +2‚ù§Ô∏è"
                    },
                    failure: { 
                        threshold: 6, 
                        effects: [
                            { type: "health", value: -3, text: "-3‚ù§Ô∏è" },
                            { type: "gold", value: -2, text: "-2ü™ô" }
                        ],
                        text: "-3‚ù§Ô∏è -2ü™ô"
                    },
                    special: {
                        condition: "sequence",
                        effects: [
                            { type: "health", value: 3, text: "+3‚ù§Ô∏è" },
                            { type: "gold", value: 3, text: "+3ü™ô" },
                            { type: "luck", value: 3, text: "+3‚òòÔ∏è" }
                        ],
                        text: "Get a sequence +3‚ù§Ô∏è, +3ü™ô, and +3‚òòÔ∏è"
                    }
                }
            }
        ]
    },
    realm3: {
        quests: [
            {
                id: 1,
                title: "1 The Chocolate Alchemist",
                illustration: "images/chocolate-alchemist.png",
                text: "An alchemist seeks the perfect hot chocolate. Can you create magic in a cup?",
                conditions: {
                    success: { 
                        threshold: 17, 
                        effects: [
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "+2ü™ô +1‚òòÔ∏è"
                    },
                    failure: { 
                        threshold: 5, 
                        effects: [
                            { type: "luck", value: -2, text: "-2‚òòÔ∏è" },
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" }
                        ],
                        text: "-2‚òòÔ∏è -1‚ù§Ô∏è"
                    },
                    special: { 
                        condition: "isSumEven",
                        value: 5,
                        effects: [
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" }
                        ],
                        text: "Even number +2‚ù§Ô∏è"
                    }
                }
            },
            {
                id: 2,
                title: "2 The Midnight Rush",
                illustration: "images/midnight-rush.png",
                text: "A group of night owls storms in just before closing. Can you handle the pressure?",
                conditions: {
                    success: { 
                        threshold: 14, 
                        effects: [
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" }
                        ],
                        text: "+2ü™ô +1‚ù§Ô∏è"
                    },
                    failure: { 
                        threshold: 8, 
                        effects: [
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" },
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" }
                        ],
                        text: "-1‚ù§Ô∏è -1‚òòÔ∏è"
                    },
                    special: {
                        condition: "allEven",
                        effects: [
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" },
                            { type: "gold", value: 1, text: "+1ü™ô" }
                        ],
                        text: "All even numbers +1‚òòÔ∏è, +1‚ù§Ô∏è, and +1ü™ô"
                    }
                }
            },
            {
                id: 3,
                title: "3 The Magic Bean",
                illustration: "images/magic-bean.png",
                text: "You found a mysterious glowing coffee bean. Do you dare to brew it?",
                conditions: {
                    success: { 
                        threshold: 15, 
                        effects: [
                            { type: "luck", value: 2, text: "+2‚òòÔ∏è" },
                            { type: "gold", value: 1, text: "+1ü™ô" }
                        ],
                        text: "+2‚òòÔ∏è +1ü™ô"
                    },
                    failure: { 
                        threshold: 7, 
                        effects: [
                            { type: "health", value: -2, text: "-2‚ù§Ô∏è" },
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" }
                        ],
                        text: "-2‚ù§Ô∏è -1‚òòÔ∏è"
                    },
                    special: {
                        condition: "sequence",
                        effects: [
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" }
                        ],
                        text: "Get a sequence +2ü™ô and +1‚ù§Ô∏è"
                    }
                }
            },
            {
                id: 4,
                title: "4 The Coffee Ghost",
                illustration: "images/coffee-ghost.png",
                text: "A translucent figure appears, requesting their 'usual'. What was their usual again?",
                conditions: {
                    success: { 
                        threshold: 12, 
                        effects: [
                            { type: "gold", value: 1, text: "+1ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "+1ü™ô +1‚òòÔ∏è"
                    },
                    failure: { 
                        threshold: 6, 
                        effects: [
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" },
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" }
                        ],
                        text: "-1‚òòÔ∏è -1‚ù§Ô∏è"
                    },
                    special: {
                        condition: "triple",
                        effects: [
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" },
                            { type: "luck", value: 2, text: "+2‚òòÔ∏è" }
                        ],
                        text: "triple +1‚ù§Ô∏è and +2‚òòÔ∏è"
                    }
                }
            },
            {
                id: 5,
                title: "5 The Time Traveler",
                illustration: "images/time-traveler.png",
                text: "A customer claims they ordered their drink tomorrow. Can you make sense of this paradox?",
                conditions: {
                    success: { 
                        threshold: 16, 
                        effects: [
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" },
                            { type: "gold", value: 1, text: "+1ü™ô" }
                        ],
                        text: "+1‚òòÔ∏è +1ü™ô"
                    },
                    failure: { 
                        threshold: 10, 
                        effects: [
                            { type: "gold", value: -1, text: "-1ü™ô" },
                            { type: "health", value: -1, text: "-1‚ù§Ô∏è" }
                        ],
                        text: "-1ü™ô -1‚ù§Ô∏è"
                    },
                    special: {
                        condition: "isSumEven",
                        value: 7,
                        effects: [
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" },
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "Even number +2‚ù§Ô∏è, +2ü™ô, and +1‚òòÔ∏è"
                    }
                }
            },
            {
                id: 6,
                title: "6 The Time Traveler",
                illustration: "images/time-traveler.png",
                text: "A customer claims they ordered their drink tomorrow. Can you make sense of this paradox?",
                conditions: {
                    success: { 
                        threshold: 16, 
                        effects: [
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" },
                            { type: "health", value: 1, text: "+1‚ù§Ô∏è" }
                        ],
                        text: "+1‚òòÔ∏è +1‚ù§Ô∏è"
                    },
                    failure: { 
                        threshold: 10, 
                        effects: [
                            { type: "gold", value: -1, text: "-1ü™ô" },
                            { type: "luck", value: -1, text: "-1‚òòÔ∏è" }
                        ],
                        text: "-1ü™ô -1‚òòÔ∏è"
                    },
                    special: {
                        condition: "isSumEven",
                        value: 7,
                        effects: [
                            { type: "health", value: 2, text: "+2‚ù§Ô∏è" },
                            { type: "gold", value: 2, text: "+2ü™ô" },
                            { type: "luck", value: 1, text: "+1‚òòÔ∏è" }
                        ],
                        text: "Even number +2‚ù§Ô∏è, +2ü™ô, and +1‚òòÔ∏è"
                    }
                }
            }
        ],
        bosses: [
            {
                id: "boss3",
                title: "The Chocolate Titan",
                illustration: "images/chocolate-titan.png",
                text: "A colossal being made of molten chocolate challenges you to create the ultimate dessert drink!",
                conditions: {
                    success: { 
                        threshold: 24, 
                        effects: [
                            { type: "luck", value: 4, text: "+4‚òòÔ∏è" },
                            { type: "gold", value: 3, text: "+3ü™ô" }
                        ],
                        text: "+4‚òòÔ∏è +3ü™ô"
                    },
                    failure: { 
                        threshold: 5, 
                        effects: [
                            { type: "health", value: -4, text: "-4‚ù§Ô∏è" },
                            { type: "luck", value: -2, text: "-2‚òòÔ∏è" }
                        ],
                        text: "-4‚ù§Ô∏è -2‚òòÔ∏è"
                    },
                    special: {
                        condition: "triple",
                        effects: [
                            { type: "health", value: 4, text: "+4‚ù§Ô∏è" },
                            { type: "gold", value: 4, text: "+4ü™ô" },
                            { type: "luck", value: 4, text: "+4‚òòÔ∏è" }
                        ],
                        text: "Triple +4‚ù§Ô∏è +4ü™ô +4‚òòÔ∏è"
                    }
                }
            }
        ]
    }
};

// Special condition checkers
const conditionCheckers = {
    // Check if there are at least two dice with the same value
    pair: (dice) => {
        const counts = new Map();
        dice.forEach(value => counts.set(value, (counts.get(value) || 0) + 1));
        return Array.from(counts.values()).some(count => count >= 2);
    },

    // Check if there are three dice with the same value
    triple: (dice) => {
        const counts = new Map();
        dice.forEach(value => counts.set(value, (counts.get(value) || 0) + 1));
        return Array.from(counts.values()).some(count => count === 3);
    },
    
    // Check if all dice values are even    
    allEven: (dice) => dice.every(value => value % 2 === 0),
    
    sequence: (dice) => {
        const sorted = [...dice].sort((a, b) => a - b);
        for (let i = 1; i < sorted.length; i++) {
            if (sorted[i] !== sorted[i-1] + 1) return false;
        }
        return true;
    },
    
    // Check if all dice values are the same
    allSame: (dice) => dice.every(value => value === dice[0]),
    
    // Check if the sum of dice values is even
    isSumEven: (dice) => dice.reduce((sum, die) => sum + die, 0) % 2 === 0,
    
    // Check if the sum of dice values is odd
    isSumOdd: (dice) => dice.reduce((sum, die) => sum + die, 0) % 2 === 1
}; 